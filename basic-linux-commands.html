<!DOCTYPE html>
<html>
<head>
<title>basic-linux-commands.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="basic-linux-commands">Basic Linux commands</h1>
<h2 id="cat">cat</h2>
<p>Cat will scroll off the screen. To stop this happening use.</p>
<pre class="hljs"><code><div>    cat .bashrc | less
</div></code></pre>
<p>This will show the first page of information and then allow you to use the arrow keys, Page Up or Page Down or use the Home or End keys. Type <code>q</code> to quit.</p>
<h2 id="chmod">chmod</h2>
<p>The chmod command sets the file permissions flags on a file or folder. The flags define who can read, write to or execute the file. When you list files with the <code>-l</code> (long format) option you'll see a string of characters that look like</p>
<blockquote>
<p>-rwxrwxrwx</p>
</blockquote>
<p>If the first character is a <code>-</code> the item is a file, if it is a <code>d</code> the item is a directory. The rest of the string is three sets of three characters. From the left, the first three represent the file permissions of the <strong>owner</strong>, the middle three represent the file permissions of the <strong>group</strong> and the rightmost three characters represent the permissions for <strong>others</strong>. In each set, an <code>r</code> stands for <em>read</em>, a <code>w</code> stands for <strong>write</strong>, and an <code>x</code> stands for <strong>execute</strong>.</p>
<p>If the <code>r</code>, <code>w</code>, or <code>x</code> character is present that file permission is granted. If the letter is not present and a <code>-</code> appears instead, that file permission is not granted.</p>
<p>One way to use <code>chmod is</code> to provide the permissions you wish to give to the owner, group, and others as a 3 digit number. The leftmost digit represents the <strong>owner</strong>. The middle digit represents the <strong>group</strong>. The rightmost digit represents the <strong>others</strong>. The digits you can use and what they represent are listed here:</p>
<blockquote>
<p>0: No permission<br>
1: Execute permission<br>
2: Write permission<br>
3: Write and execute permissions<br>
4: Read permission<br>
5: Read and execute permissions<br>
6: Read and write permissions<br>
7: Read, write and execute permissions</p>
</blockquote>
<p>I create a new text file named <code>example.txt</code>.</p>
<p>It will have these permissions.</p>
<blockquote>
<p>-rw-r--r-- 1 alanr alanr 0 Sep 10 14:34 examples.txt</p>
</blockquote>
<p>Each group has different permissions. I want to change this so owner (user) and group have read and write permissions and leave others to have read permissions.</p>
<pre class="hljs"><code><div>    chmod 664 example.txt
</div></code></pre>
<p>Will change <code>example.txt</code> permissions to.</p>
<blockquote>
<p>-rw-rw-r-- 1 alanr alanr 0 Sep 10 14:34 examples.txt</p>
</blockquote>
<h3 id="symbolic-mode">Symbolic mode</h3>
<p>The  format of a symbolic mode is <code>[ugoa...][[-+=][perms...]...]</code>, where perms is either zero or more letters from the set <code>rwxXst</code>, or a single letter from the set <code>ugo</code>.  Multiple symbolic modes can be given, separated  by commas.</p>
<p>A combination of the letters <code>ugoa</code> controls which users' access to the file will be changed: the user who owns it (<code>u</code>), other users in the file's group (<code>g</code>), other users not in the file's group (<code>o</code>), or all  users  (<code>a</code>).   If none of these are given, the effect is as if (<code>a</code>) were given, but bits that are set in the umask are not affected.</p>
<p>The operator <strong>+</strong> causes the selected file mode bits to be added to the existing file mode bits of each  file; <strong>-</strong> causes them to be removed; and <strong>=</strong> causes them to be added and causes unmentioned bits to be removed except that a directory's unmentioned set user and group ID bits are not affected.</p>
<p>Modify all permissions to read-write.</p>
<pre class="hljs"><code><div>    chmod a+rw example.txt
</div></code></pre>
<p>Where <code>a</code> means all.</p>
<p>I could also remove permissions with.</p>
<pre class="hljs"><code><div>    chmod a+r-w example.txt
</div></code></pre>
<p>This removes the write permissions but allows all users to read the text file.</p>
<p>If I decide I want to restrict write permissions for others I can do this.</p>
<pre class="hljs"><code><div>    chmod ug+rw,o+r-w example.txt
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>-rw-rw-r-- 1 alanr alanr 76 Sep 10 17:51 example.txt</p>
</blockquote>
<h2 id="chown">chown</h2>
<p>The <code>chown</code> command allows you to change the <strong>owner</strong> and <strong>group</strong> owner of a file. Listing our <code>example.txt</code> file with ls -l we can see <em>alanr</em> <em>alanr</em> in the file description. The first of these indicates the name of the file owner, which in this case is the user <em>alanr</em>. The second entry shows that the name of the group owner is also <em>alanr</em>. Each user has a default group created when the user is created. That user is the only member of that group. This shows that the file is not shared with any other groups of users.</p>
<p>You can use <code>chown</code> to change the owner or group, or both of a file. You must provide the name of the owner and the group, separated by a <strong>:</strong> character. You will need to use <strong>sudo</strong>. To retain dave as the owner of the file but to set mary as the group owner, use this command:</p>
<pre class="hljs"><code><div>    sudo chown root:root example.txt
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>-rw-rw-r-- 1 root root 0 Sep 10 14:34 example.txt</p>
</blockquote>
<p>Now if I go to add text to this file I can't because only <strong>root</strong> has read-write access.</p>
<h1 id="curl">curl</h1>
<p>The <code>curl</code> command is a tool to retrieve information and files from Uniform Resource Locators (URLs) or internet addresses.</p>
<pre class="hljs"><code><div>    curl https://raw.githubusercontent.com/torvalds/linux/master/kernel/events/core.c -o core.c
</div></code></pre>
<p>This command retrieves the file for us. Note that you need to specify the name of the file to save it in, using the <code>-o</code> (output) option. If you do not do this, the contents of the file are scrolled rapidly in the terminal window but not saved to your computer.</p>
<h2 id="df">df</h2>
<p>The <code>df</code> command shows the size, used space, and available space on the mounted filesystems of your computer.</p>
<p>Two of the most useful options are the <code>-h</code> (human readable) and <code>-x</code> (exclude) options. The human-readable option displays the sizes in Mb or Gb instead of in bytes. The exclude option allows you to tell <code>df</code> to discount filesystems you are not interested in. For example, the <code>squashfs</code> pseudo-filesystems that are created when you install an application with the snap command.</p>
<pre class="hljs"><code><div>    df -h -x squashfs
</div></code></pre>
<h2 id="diff">diff</h2>
<p>The <code>diff</code> command compares two text files and shows the differences between them. There are many options to tailor the display to your requirements.</p>
<p>The <code>-y</code> (side by side) option shows the line differences side by side. The <code>-w</code> (width) option lets you specify the maximum line width to use to avoid wraparound lines. The two files are called <em>alpha1.txt</em> and <em>alpha2.txt</em> in this example. The <code>--suppress-common-lines</code> prevents diff from listing the matching lines, letting you focus on the lines which have differences.</p>
<pre class="hljs"><code><div>diff -y -W 70 alpha1.txt alpha2.txt --suppress-common-lines
</div></code></pre>
<h2 id="echo">echo</h2>
<p>The <code>echo</code> command prints (echoes) a string of text to the terminal window.</p>
<p>The command below will print the words &quot;A string of text&quot; on the terminal window.</p>
<pre class="hljs"><code><div>    <span class="hljs-built_in">echo</span> A string of text
</div></code></pre>
<p>The <code>echo</code> command can show the value of environment variables, for example, the <code>$USER</code>, <code>$HOME</code>, and <code>$PATH</code> environment variables. These hold the values of the name of the user, the user's home directory, and the path searched for matching commands when the user types something on the command line.</p>
<pre class="hljs"><code><div>    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$USER</span>
</div></code></pre>
<h2 id="find">find</h2>
<p>Use the <code>find</code> command to track down files that you know exist if you can't remember where you put them. You must tell <code>find</code> where to start searching from and what it is looking for. In this example, the <strong>.</strong> matches the current folder and the <code>-name</code> option tells find to look for files with a name that matches the search pattern. Use <code>-iname</code> for case insensitive searches.</p>
<p>You can use wildcards, where <code>*</code> represents any sequence of characters and <code>?</code> represents any single character. We're using <code>*.cs</code> to match any file name containing the sequence &quot;ones.&quot; This would match words like bones, stones, and lonesome.</p>
<pre class="hljs"><code><div>    find . -iname *.cs
</div></code></pre>
<p>You can limit your search results by specifying the <strong>type</strong> you are searching for. <strong>f</strong> for files or <strong>d</strong> for directory.</p>
<pre class="hljs"><code><div>    find . -<span class="hljs-built_in">type</span> d  -iname Debug
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>./source/dotnetapp/bin/Debug<br>
./source/dotnetapp/obj/Debug<br>
./source/app/node_modules/istanbul-lib-source-maps/node_modules/debug<br>
...</p>
</blockquote>
<h1 id="finger">finger</h1>
<p>The <code>finger</code> command gives you a short dump of information about a user, including the time of the user's last login, the user's home directory, and the user account's full name.</p>
<pre class="hljs"><code><div>    finger alanr
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>Login: alanr                            Name:     
Directory: /home/alanr                  Shell: /bin/bash      
On since Wed Sep 10 14:14 (AEST) on pts/1   2 hours 9 minutes idle        
     (messages off)       
No mail.      
No Plan.
</div></code></pre>
<h1 id="free">free</h1>
<p>The <code>free</code> command gives you a summary of the memory usage with your computer. It does this for both the main Random Access Memory (RAM) and swap memory. The <code>-h</code> (human) option is used to provide human-friendly numbers and units. Without this option, the figures are presented in bytes.</p>
<pre class="hljs"><code><div>    free -h
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>               total        used        free      shared  buff/cache   available      
Mem:            15Gi       439Mi        14Gi       3.0Mi       437Mi        14Gi      
Swap:          4.0Gi          0B       4.0Gi
</div></code></pre>
<h2 id="grep">grep</h2>
<p>https://www.geeksforgeeks.org/linux-unix/grep-command-in-unixlinux/</p>
<h2 id="groups">groups</h2>
<p>The <code>groups</code> command tells you which groups a user is a member of.</p>
<pre class="hljs"><code><div>    groups alanr
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>alanr : alanr adm dialout cdrom floppy sudo audio dip video plugdev netdev docker ollama sales</p>
</blockquote>
<h2 id="creating-a-tar-archive">Creating a tar archive</h2>
<p>The <code>tar</code> command in Linux is a powerful utility used for archiving and compressing files and directories. The name &quot;tar&quot; stands for &quot;tape archive,&quot; reflecting its original purpose of writing data to tape drives. However, it has evolved to become a versatile tool for managing file collections in various formats.</p>
<h3 id="commonly-used-options-with-tar-command">Commonly used options with tar command</h3>
<table>
<thead>
<tr>
<th>Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-c</strong></td>
<td>Create a new archive file.</td>
</tr>
<tr>
<td><strong>-x</strong></td>
<td>Extract files from an archive.</td>
</tr>
<tr>
<td><strong>-v</strong></td>
<td>Verbosely list files processed.</td>
</tr>
<tr>
<td><strong>-f</strong></td>
<td>Specify the name of the archive file.</td>
</tr>
<tr>
<td><strong>-t</strong></td>
<td>List the contents of an archive without extracting.</td>
</tr>
<tr>
<td><strong>-z</strong></td>
<td>Compress the archive using gzip.</td>
</tr>
<tr>
<td><strong>-j</strong></td>
<td>Compress the archive using bzip2.</td>
</tr>
<tr>
<td><strong>-J</strong></td>
<td>Compress the archive using xz.</td>
</tr>
<tr>
<td><strong>--exclude</strong></td>
<td>Exclude files or directories from the archive.</td>
</tr>
</tbody>
</table>
<h3 id="creating-a-tar-archive">Creating a tar Archive</h3>
<p>To create a tar archive of a directory named <code>examples</code>, you can use the following command:</p>
<pre class="hljs"><code><div>    tar -cvf examples.tar examples
</div></code></pre>
<p>This command creates a tar archive named <code>examples.tar</code> containing the contents of the <code>examples</code> directory. The <code>-c</code> option is for creating an archive, <code>-v</code> enables verbose output, and <code>-f</code> specifies the name of the archive file.</p>
<h3 id="extracting-a-tar-archive">Extracting a tar Archive</h3>
<p>To extract the contents of a tar archive named <code>examples.tar</code>, you can use the following command:</p>
<pre class="hljs"><code><div>    tar -xvf examples.tar
</div></code></pre>
<p>This command extracts the contents of the <code>examples.tar</code> archive into the current directory. The <code>-x</code> option is for extracting files, <code>-v</code> enables verbose output, and <code>-f</code> specifies the name of the archive file.</p>
<h3 id="creating-a-compressed-tar-archive">Creating a Compressed tar Archive</h3>
<p>To create a compressed tar archive using gzip, you can use the following command:</p>
<pre class="hljs"><code><div>    tar -czvf examples.tar.gz examples
</div></code></pre>
<p>This command creates a gzip-compressed tar archive named <code>examples.tar.gz</code> containing the contents of the <code>examples</code> directory. The <code>-z</code> option enables gzip compression.</p>
<h3 id="extracting-a-compressed-tar-archive">Extracting a Compressed tar Archive</h3>
<p>To extract the contents of a gzip-compressed tar archive named <code>examples.tar.gz</code>, you can use the following command:</p>
<pre class="hljs"><code><div>    tar -xzvf examples.tar.gz
</div></code></pre>
<p>This command extracts the contents of the <code>examples.tar.gz</code> archive into the current directory. The <code>-x</code> option is for extracting files, <code>-z</code> enables gzip decompression, <code>-v</code> enables verbose output, and <code>-f</code> specifies the name of the archive file.</p>
<h2 id="creating-a-gzip-archive">Creating a gzip archive</h2>
<p>https://www.geeksforgeeks.org/linux-unix/gzip-command-linux/</p>
<p>The <code>gzip</code> command in Linux is a vital tool for compressing files and reducing their sizes. It employs the <strong>DEFLATE</strong> compression algorithm, which makes it highly effective for compressing large files or preparing data for transfer over networks.</p>
<p>There are other archiving formats but <code>gzip</code> compresses the best.</p>
<table>
<thead>
<tr>
<th>Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-f</strong></td>
<td>Forcefully compress a file even if a compressed version with the same name already exists.</td>
</tr>
<tr>
<td><strong>-k</strong></td>
<td>Compress a file and keep the original file, resulting in both the compressed and original files.</td>
</tr>
<tr>
<td><strong>-L</strong></td>
<td>Display the gzip license for the software.</td>
</tr>
<tr>
<td><strong>-r</strong></td>
<td>Recursively compress all files in a folder and its subfolders.</td>
</tr>
<tr>
<td><strong>-v</strong></td>
<td>Display the name and percentage reduction for each file compressed or decompressed.</td>
</tr>
<tr>
<td><strong>-d</strong></td>
<td>Decompress a file that was compressed using the gzip command.</td>
</tr>
</tbody>
</table>
<h3 id="basic-compression-using-gzip-command-in-linux">Basic Compression using gzip Command in Linux</h3>
<p>To compress a file named <code>mydoc.txt</code>, the following command can be used:</p>
<pre class="hljs"><code><div>    gzip mydoc.txt    
</div></code></pre>
<p>This command will create a compressed file named <code>mydoc.txt.gz</code> and remove the original <code>mydoc.txt</code> file.</p>
<p>If you don't want to remove the original file, use the <code>-k</code> option:</p>
<pre class="hljs"><code><div>    gzip -k mydoc.txt    
</div></code></pre>
<p>This command will create a compressed file named <code>mydoc.txt.gz</code> while keeping the original <code>mydoc.txt</code> file intact.</p>
<h3 id="how-to-decompress-a-gzip-file-in-linux">How to Decompress a gzip File in Linux</h3>
<p>The basic syntax of the <code>gzip</code> command for decompressing a file is as follows:</p>
<pre class="hljs"><code><div>    gzip -d filename.gz
</div></code></pre>
<p>This command decompresses the specified <code>gzip</code> file, leaving the original uncompressed file intact.</p>
<h3 id="recursively-compressing-files-using-gzip-command">Recursively Compressing Files using gzip Command</h3>
<p>To compress all files in a directory and its subdirectories, the <code>-r</code> option can be used:</p>
<pre class="hljs"><code><div>    gzip -r examples
</div></code></pre>
<p>This will compress all files into separate .gz files in the <code>examples</code> directory and its subdirectories. A far better way to do this is to create a tar archive and then compress that.</p>
<pre class="hljs"><code><div>    tar -cvf examples.tar examples
    gzip examples.tar
</div></code></pre>
<p>This creates a single compressed file named <code>examples.tar.gz</code>.</p>
<h3 id="force-compression-using-gzip-command">Force Compression Using gzip Command</h3>
<p>In cases where the compressed file already exists, the <code>-f</code> option forcefully overwrites it:</p>
<pre class="hljs"><code><div>    gzip -f example.txt
</div></code></pre>
<p>This command compresses <code>example.txt</code>, overwriting any existing <code>example.txt.gz</code> file.</p>
<h3 id="compressing-multiple-files-using-gzip-command">Compressing Multiple Files Using gzip Command</h3>
<p><code>Gzip</code> can compress multiple files simultaneously by providing their names as arguments:</p>
<pre class="hljs"><code><div>    gzip file1.txt file2.txt file3.txt
</div></code></pre>
<p>This command compresses &quot;file1.txt,&quot; &quot;file2.txt,&quot; and &quot;file3.txt&quot; individually.</p>
<h3 id="compressing-a-set-of-files-in-a-directory">Compressing a set of files in a directory</h3>
<p>I have a number of <code>.sh</code> scripts in a directory as well as other files. I want to compress all of the <code>.sh</code> files into an archive file named scripts.</p>
<pre class="hljs"><code><div>    tar -czf scripts.tar.gz *.sh
</div></code></pre>
<p>To check the files in the archive use.</p>
<pre class="hljs"><code><div>    tar -tzf scripts.tar.gz
</div></code></pre>
<h2 id="compressing-with-zip">Compressing with zip</h2>
<p><code>zip</code> is installed on Ubuntu. We can use this when we are sending files across Linux, MacOS and Windows.</p>
<pre class="hljs"><code><div>    zip -r examples.zip examples/
</div></code></pre>
<p>This command creates a zip archive named <code>examples.zip</code> containing the contents of the <code>examples</code> directory. The <code>-r</code> option is for creating an archive recursively, including all files and subdirectories within the specified directory.</p>
<h3 id="extracting-a-zip-archive">Extracting a zip Archive</h3>
<p>To extract the contents of a zip archive named <code>examples.zip</code>, you can use the following command:</p>
<pre class="hljs"><code><div>    unzip examples.zip
</div></code></pre>
<p>This command extracts the contents of the <code>examples.zip</code> archive into the current directory.</p>
<p>I can extract these to another directory with the <code>-d</code> option.</p>
<pre class="hljs"><code><div>    unzip examples.zip -d extracted
</div></code></pre>
<h2 id="head">head</h2>
<p>The head command gives you a listing of the first 10 lines of a file. If you want to see fewer or more lines, use the <code>-n</code> (number) option. In this examples, we use head with its default of 10 lines. We then repeat the command asking for only five lines.</p>
<p>Print the first 10 lines.</p>
<pre class="hljs"><code><div>    head examples.txt
</div></code></pre>
<p>Print the first 5 lines.</p>
<pre class="hljs"><code><div>    head -n5 examples.txt
</div></code></pre>
<h2 id="less">less</h2>
<p>The <code>less</code> command allows you to view files without opening an editor. It's faster to use, and there's no chance of you inadvertently modifying the file. With less you can scroll forward and backward through the file using the Up and Down Arrow keys, the PgUp and PgDn keys and the Home and End keys. Press the Q key to quit from less.</p>
<pre class="hljs"><code><div>    less .bashrc
</div></code></pre>
<p><strong>Note:</strong> it is better to use <code>less</code> than <code>cat</code> for large files. Using <code>cat</code> will scroll the whole file whereas with <code>less</code> you only see the first page of the file.</p>
<p>You can also pipe the output from other commands into <code>less</code>. To see the output from <code>ls</code> for a listing of your entire hard drive, use the following command:</p>
<pre class="hljs"><code><div>    ls -R / | less
</div></code></pre>
<p>While you are looking through the content you can search for text using the <code>/</code> (backslash) followed by the search term. You can go backwards with the <code>?</code> and add the search term.</p>
<h2 id="redirection">Redirection</h2>
<p>Most of the redirection we have seen is output to the screen. We have also seen output through pipes to other commands.</p>
<p>Text in a shell travels through on of three streams.</p>
<ol start="0">
<li>Standard Input (<code>stdin</code>) - this is usually the keyboard (keyboard or text input)</li>
<li>Standard Output (<code>stdout</code>) - this is usually the screen (text output)</li>
<li>Standard Error (<code>stderr</code>) - this is usually the screen (error messages)</li>
</ol>
<h3 id="output-to-stdout">Output to stdout</h3>
<pre class="hljs"><code><div>    ls 1&gt; filelist.txt
</div></code></pre>
<p>This command lists the files in the current directory and redirects the output (<code>stdout</code>) to a file named <code>filelist.txt</code>. The <code>1&gt;</code> operator specifies that the standard output (file descriptor 1) should be redirected to the specified file.</p>
<h3 id="output-to-stderr">Output to stderr</h3>
<pre class="hljs"><code><div>    ls non_existent_file 2&gt; errorlog.txt
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>ls: cannot access 'non_existent_file': No such file or directory</p>
</blockquote>
<p>This command attempts to list a non-existent file, which generates an error message. The <code>2&gt;</code> operator redirects the standard error (file descriptor 2) to a file named <code>errorlog.txt</code>.</p>
<h3 id="output-to-both-stdout-and-stderr">Output to both stdout and stderr</h3>
<pre class="hljs"><code><div>    ls existing_file non_existent_file &gt; output.txt 2&gt;&amp;1
</div></code></pre>
<p><strong>Note:</strong> I can leave of the <code>1</code> in front of the <code>&gt;</code> redirection operator because <code>stdout</code> is the default.</p>
<p>This command lists both an existing file and a non-existent file. The standard output is redirected to <code>output.txt</code>, and the standard error is also redirected to the same file using <code>2&gt;&amp;1</code>.</p>
<h3 id="multiple-redirections">Multiple redirections</h3>
<p>Redirect both standard output and standard error to different files.</p>
<pre class="hljs"><code><div>    cp -r myfiles ~/files_backup &gt; success.txt 2&gt; errorlog.txt
</div></code></pre>
<p>This command copies the directory <code>myfiles</code> to a backup location in the user's home directory. The standard output (success messages) is redirected to <code>success.txt</code>, while any error messages are redirected to <code>errorlog.txt</code>.</p>
<p>Redirect standard output and standard error to the same file.</p>
<pre class="hljs"><code><div>    cp -r myfiles ~/files_backup &gt; status.txt 2&gt;&amp;1
</div></code></pre>
<p>Or.</p>
<pre class="hljs"><code><div>    cp -r myfiles ~/files_backup &amp;&gt; status.txt
</div></code></pre>
<p>This command copies the directory <code>myfiles</code> to a backup location in the user's home directory. Both standard output and standard error are redirected to a single file named <code>status.txt</code>.</p>
<p><strong>Note:</strong> be careful with redirecting files.</p>
<pre class="hljs"><code><div> &gt;filelist.txt
</div></code></pre>
<p>This command creates an empty file named <code>filelist.txt</code> or truncates the file if it already exists. Any existing content in the file will be lost.</p>
<h3 id="appending-to-files">Appending to files</h3>
<p>You can append text to a file without overwriting its existing content using the <code>&gt;&gt;</code> operator.</p>
<pre class="hljs"><code><div>    <span class="hljs-built_in">echo</span> <span class="hljs-string">"New line of text"</span> &gt;&gt; myfile.txt
</div></code></pre>
<p>This command appends the text &quot;New line of text&quot; to the end of the file named <code>myfile.txt</code>. If the file does not exist, it will be created.</p>
<h2 id="exploring-environment-variables-and-path">Exploring environment variables and PATH</h2>
<p>The shell we are using has a few variables or parameters that affect how the shell works. You can see these variables by using the <code>printenv</code> command.</p>
<pre class="hljs"><code><div>    printenv
</div></code></pre>
<p>Or.</p>
<pre class="hljs"><code><div>    env
</div></code></pre>
<p>This produces a fairly big list of information but there are a few variables to note.</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HOME</strong></td>
<td>This variable holds the path to your home directory.</td>
</tr>
<tr>
<td><strong>PATH</strong></td>
<td>This variable holds a list of directories that the shell searches through when you type a command.</td>
</tr>
<tr>
<td><strong>USER</strong></td>
<td>This variable holds your username.</td>
</tr>
<tr>
<td><strong>SHELL</strong></td>
<td>This variable holds the path to the shell you are using.</td>
</tr>
<tr>
<td><strong>LANG</strong></td>
<td>This variable holds the language and locale settings for your system.</td>
</tr>
<tr>
<td><strong>PWD</strong></td>
<td>This variable holds the path to your current working directory.</td>
</tr>
<tr>
<td><strong>OLDPWD</strong></td>
<td>This variable holds the path to your previous working directory.</td>
</tr>
<tr>
<td><strong>TERM</strong></td>
<td>This variable holds the type of terminal you are using.</td>
</tr>
<tr>
<td><strong>EDITOR</strong></td>
<td>This variable holds the path to the default text editor for your system.</td>
</tr>
<tr>
<td><strong>HISTSIZE</strong></td>
<td>This variable holds the number of commands to remember in your command history.</td>
</tr>
<tr>
<td><strong>PS1</strong></td>
<td>This variable holds the primary prompt string, which is displayed when the shell is ready to accept a command.</td>
</tr>
</tbody>
</table>
<p>You can see the value of a specific variable by using the <code>echo</code> command followed by the variable name prefixed with a dollar sign (<code>$</code>).</p>
<pre class="hljs"><code><div>    <span class="hljs-built_in">echo</span> <span class="hljs-variable">$PATH</span>
</div></code></pre>
<p>This is the most important to us. We can run commands like <code>ls</code>, <code>cd</code>, and <code>cat</code> because the shell looks in the directories listed in the PATH variable to find these commands.</p>
<p>To find out where a command is located use the <code>which</code> command.</p>
<pre class="hljs"><code><div>    <span class="hljs-built_in">which</span> ls
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>/usr/bin/ls</p>
</blockquote>
<h3 id="editing-the-path-variable">Editing the PATH variable</h3>
<p>You can add your own directories to the PATH variable by editing the ~/.bash_profile or ~/.bashrc file. You can use any text editor to do this. Here we use <code>nano</code>.</p>
<pre class="hljs"><code><div>    nano ~/.bash_profile
</div></code></pre>
<p>This file may or may not exist.</p>
<p>Add a line like this to the end of the file.</p>
<pre class="hljs"><code><div>    <span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/home/alanr/scripts
</div></code></pre>
<p>This line adds the directory <code>/home/alanr/scripts</code> to the existing PATH variable. The <code>$PATH</code> at the beginning ensures that the current contents of the PATH variable are preserved, and the new directory is appended to it.</p>
<h2 id="challenge">Challenge</h2>
<p>We have a set of archived logs in a file named <strong>log.tar.gz</strong>. Extract this and you will find a single file named <strong>auth.log</strong>.</p>
<p>We need to search through this file and find all entries with the text <code>Disconnected from invalid user</code>. This will give us lines of text with suspicious logins.</p>
<p>In this list there are user names and we want to extract a sorted and unique list of users.</p>
<h3 id="step-1">Step 1</h3>
<p>Extract the files from <strong>log.tar.gz</strong>.</p>
<pre class="hljs"><code><div>    tar -xzf log.tar.gz
</div></code></pre>
<p>This extracts the file <strong>auth.log</strong>.</p>
<h3 id="step-2">Step 2</h3>
<p>Use grep to extract the lines containing the phrase <code>Disconnected from invalid user</code>.</p>
<pre class="hljs"><code><div>    grep <span class="hljs-string">"Disconnected from invalid user"</span> auth.log
</div></code></pre>
<p>Returns lines in this format.</p>
<blockquote>
<p>2025-07-16T22:44:16.114657+00:00 linux-pc sshd[312540]: Disconnected from invalid user dayton 80.94.95.15 port 49788 [preauth]</p>
</blockquote>
<h3 id="step-4">Step 4</h3>
<p>You can see in the result above that the user name is in the 8th column and this is the same for all entries.</p>
<p>Now use pipes and redirection to sort a unique list of names from auth.log with phrase above.</p>
<pre class="hljs"><code><div>grep <span class="hljs-string">"Disconnected from invalid user"</span> auth.log | awk <span class="hljs-string">'{print $8}'</span> | sort -f -u &gt; users.txt
</div></code></pre>
<h3 id="step-5">Step 5</h3>
<p>Count the number of illegal user names.</p>
<pre class="hljs"><code><div>    wc -l users.txt
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>467 users.txt</p>
</blockquote>
<p>There a 467 unique illegal users.</p>
<h2 id="find-information-about-your-linux-distribution">Find information about your Linux distribution</h2>
<p>Look for information about your system with.</p>
<pre class="hljs"><code><div>    ls -l /etc/*release
</div></code></pre>
<p>Returns</p>
<blockquote>
<p>-rw-r--r-- 1 root root 104 Aug  2 00:21 /etc/lsb-release<br>
lrwxrwxrwx 1 root root  21 Aug  2 00:21 /etc/os-release -&gt; ../usr/lib/os-release</p>
</blockquote>
<h3 id="etclsb-release">/etc/lsb-release</h3>
<blockquote>
<p>DISTRIB_ID=Ubuntu<br>
DISTRIB_RELEASE=24.04<br>
DISTRIB_CODENAME=noble<br>
DISTRIB_DESCRIPTION=&quot;Ubuntu 24.04.3 LTS&quot;</p>
</blockquote>
<h3 id="etcos-release">/etc/os-release</h3>
<blockquote>
<p>PRETTY_NAME=&quot;Ubuntu 24.04.3 LTS&quot;<br>
NAME=&quot;Ubuntu&quot;<br>
VERSION_ID=&quot;24.04&quot;<br>
VERSION=&quot;24.04.3 LTS (Noble Numbat)&quot;<br>
VERSION_CODENAME=noble<br>
ID=ubuntu<br>
ID_LIKE=debian<br>
HOME_URL=&quot;https://www.ubuntu.com/&quot;<br>
SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;<br>
BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;<br>
PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;<br>
UBUNTU_CODENAME=noble<br>
LOGO=ubuntu-logo</p>
</blockquote>
<p>What version of the Linux kernel are we using.</p>
<pre class="hljs"><code><div>    uname -a
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>Linux TIGER 6.6.87.2-microsoft-standard-WSL2 #1 SMP PREEMPT_DYNAMIC Thu Jun  5 18:30:46 UTC 2025 x86_64 x86_64 x86_64 GNU/Linux</p>
</blockquote>
<p>This information can be useful for troubleshooting.</p>
<h2 id="find-system-hardware-and-disk-information">Find system hardware and disk information</h2>
<p>Find out how much memory a system has.</p>
<pre class="hljs"><code><div>    free -h
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>               total        used        free      shared  buff/cache   available
Mem:            15Gi       579Mi        14Gi       3.5Mi       563Mi        15Gi
Swap:          4.0Gi          0B       4.0Gi
</div></code></pre>
<p>Find information about your system.</p>
<pre class="hljs"><code><div>    lscpu
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>Architecture:             x86_64
  CPU op-mode(s):         32-bit, 64-bit
  Address sizes:          39 bits physical, 48 bits virtual
  Byte Order:             Little Endian
CPU(s):                   16
  On-line CPU(s) list:    0-15
Vendor ID:                GenuineIntel
  Model name:             Intel(R) Core(TM) i7-10700K CPU @ 3.80GHz
    CPU family:           6
...
</div></code></pre>
<p>Or you can find the same information in.</p>
<pre class="hljs"><code><div>    cat /proc/cpuinfo
</div></code></pre>
<p>To find out how much disk space a system has.</p>
<pre class="hljs"><code><div>    df -h
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>Filesystem      Size  Used Avail Use% Mounted on
none            7.8G     0  7.8G   0% /usr/lib/modules/6.6.87.2-microsoft-standard-WSL2
none            7.8G  4.0K  7.8G   1% /mnt/wsl
drivers         930G  457G  473G  50% /usr/lib/wsl/drivers
/dev/sdd       1007G  1.6G  955G   1% /
...
</div></code></pre>
<p>The most interesting drive is <code>/</code> because this is our system. This is where our files are kept.</p>
<p>Check how much disk space is used.</p>
<pre class="hljs"><code><div>     sudo du -hd1 /
</div></code></pre>
<p>Where <code>-h</code> is human readable and <code>d</code> is what level of depth to show. In this case it is <code>1</code>. <code>/</code> is from the root.</p>
<p>You have to use sudo because some of the directories are owned by <code>root</code>.</p>
<p>Returns.</p>
<pre class="hljs"><code><div>4.3M    /etc
6.9G    /usr
560K    /run
4.0K    /media
16K     /lost+found
4.0K    /boot
0       /dev
8.0K    /Docker
548M    /var
48K     /tmp
8.0K    /snap
</div></code></pre>
<p>We can also check what hardware the system has with.</p>
<pre class="hljs"><code><div>    sudo lshw | less
</div></code></pre>
<p>We use <code>less</code> because this pumps out a large amount of information.</p>
<p>To see what is attached to the PCI bus.</p>
<pre class="hljs"><code><div>    lscpi
</div></code></pre>
<p>To see what is attached to the USB bus.</p>
<pre class="hljs"><code><div>    lsusb
</div></code></pre>
<p>To find the systems network address.</p>
<pre class="hljs"><code><div>    ip a
</div></code></pre>
<p>You can see your primary network address from.</p>
<pre class="hljs"><code><div>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1420 qdisc mq state UP group default qlen 1000
    link/ether 00:15:5d:c9:2d:50 brd ff:ff:ff:ff:ff:ff
    inet 172.30.170.164/20 brd 172.30.175.255 scope global eth0
</div></code></pre>
<p>Returns.</p>
<blockquote>
<p>172.30.170.164</p>
</blockquote>
<h2 id="install-and-update-software-with-a-package-manager">Install and update software with a package manager</h2>
<p>We use a package manager to install and update software tools on our system. Ubuntu use the <code>APT</code> (Advanced Package Tool) package manager.</p>
<p>Your Linux system has an index of packages you can install.</p>
<p>To see the list of packages available.</p>
<pre class="hljs"><code><div>    sudo apt list
</div></code></pre>
<p>To see a list of installed packages.</p>
<pre class="hljs"><code><div>    sudo apt list --installed
</div></code></pre>
<p>To view package details.</p>
<pre class="hljs"><code><div>    sudo apt policy nano
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>nano:
  Installed: 7.2-2ubuntu0.1
  Candidate: 7.2-2ubuntu0.1
  Version table:
 *** 7.2-2ubuntu0.1 500
        500 http://archive.ubuntu.com/ubuntu noble-updates/main amd64 Packages
        500 http://security.ubuntu.com/ubuntu noble-security/main amd64 Packages
        100 /var/lib/dpkg/status
     7.2-2build1 500
        500 http://archive.ubuntu.com/ubuntu noble/main amd64 Packages
</div></code></pre>
<p>To search for a software package.</p>
<pre class="hljs"><code><div>    apt search tree |less
</div></code></pre>
<p>This brings back way too much information so we pipe it into <code>less</code>.</p>
<p>Returns.</p>
<pre class="hljs"><code><div>...
tre-command/noble 0.4.0-5 amd64
  Tree <span class="hljs-built_in">command</span>, improved

tree/noble 2.1.1-2ubuntu3 amd64
  displays an indented directory tree, <span class="hljs-keyword">in</span> color

tree-ppuzzle/noble 5.3~rc16+dfsg-9build2 amd64
  Parallelized reconstruction of phylogenetic trees by maximum likelihood
...
</div></code></pre>
<p>You can find more information with.</p>
<pre class="hljs"><code><div>    apt show tree
</div></code></pre>
<p>Returns.</p>
<pre class="hljs"><code><div>Package: tree
Version: 2.1.1-2ubuntu3
Priority: optional
Section: universe/utils
Origin: Ubuntu
Maintainer: Ubuntu Developers &lt;ubuntu-devel-discuss@lists.ubuntu.com&gt;
Original-Maintainer: Florian Ernst &lt;florian@debian.org&gt;
Bugs: https://bugs.launchpad.net/ubuntu/+filebug
Installed-Size: 111 kB
Depends: libc6 (&gt;= 2.38)
Homepage: http://oldmanprogrammer.net/source.php?dir=projects/tree
Task: xubuntu-desktop, lubuntu-desktop, ubuntu-mate-core, ubuntu-mate-desktop, ubuntu-budgie-desktop-minimal, ubuntu-budgie-desktop, ubuntu-budgie-desktop-raspi, ubuntu-unity-desktop, ubuntucinnamon-desktop-minimal, ubuntucinnamon-desktop-raspi
Download-Size: 47.1 kB
APT-Sources: http://archive.ubuntu.com/ubuntu noble/universe amd64 Packages
Description: displays an indented directory tree, <span class="hljs-keyword">in</span> color
 Tree is a recursive directory listing <span class="hljs-built_in">command</span> that produces a depth indented
 listing of files, <span class="hljs-built_in">which</span> is colorized ala dircolors <span class="hljs-keyword">if</span> the LS_COLORS environment
 variable is <span class="hljs-built_in">set</span> and output is to tty.
</div></code></pre>
<p>To install the package.</p>
<pre class="hljs"><code><div>    sudo apt install tree
</div></code></pre>
<p>To run <code>tree</code>.</p>
<pre class="hljs"><code><div>    tree ~/
</div></code></pre>
<p>To set a depth level.</p>
<pre class="hljs"><code><div>    tree -L 2 /etc
</div></code></pre>
<h3 id="to-upgrade-your-current-packages">To upgrade your current packages</h3>
<p>Is a two step process.</p>
<pre class="hljs"><code><div>    sudo apt update -y
</div></code></pre>
<p>And</p>
<pre class="hljs"><code><div>    sudo apt upgrade -y
</div></code></pre>
<h3 id="remove-an-unstalled-package">Remove an unstalled package</h3>
<pre class="hljs"><code><div>    sudo apt remove tree
</div></code></pre>
<p>This removes an installed package, but may leave configuration files behind. To Remove a package and its associated configuration files.</p>
<pre class="hljs"><code><div>    sudo apt purge tree
</div></code></pre>
<p>Remove packages that were automatically installed to satisfy dependencies but are no longer needed.</p>
<pre class="hljs"><code><div>    sudo apt autoremove
</div></code></pre>
<p>Reinstall a package if its installation is corrupted.</p>
<pre class="hljs"><code><div>sudo apt reinstall tree
</div></code></pre>

</body>
</html>
